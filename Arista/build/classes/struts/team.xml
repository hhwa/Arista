<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">

<struts>

	<package name="team" extends="struts-default,tiles-default">

		<!-- 글로벌 예외 처리 화면 설정 -->
		<!-- <global-results> <result name="error">/board/pageError.jsp</result> 
			</global-results> <global-exception-mappings> <exception-mapping result="error" 
			exception="java.lang.Exception"/> </global-exception-mappings> -->
		<!-- 팀 목록 액션 -->
		<action name="MyTeam" class="team.teamAction" method="myTeam">
			<result type="tiles">MyTeam</result>
			<result name="noTeam" type="tiles">noTeam</result>
			<result name="login" type="tiles">loginForm</result>
		</action>
		<action name="TeamList" class="team.teamAction">
			<result type="tiles">TeamList</result>
		</action>
		
		<action name="teamIdCheck" class="team.teamAction" method="idcheck">
			<result>/team/teamIdCheck.jsp</result>
		</action>
		<!-- 팀 생성 -->
		<action name="TeamCreateForm" class="team.teamAction" method="form">
			<result type="tiles">TeamCreateForm</result>
		</action>

		<action name="TeamCreate" class="team.teamAction" method="create">
			<result type="redirect-action">
				<param name="actionName">TeamList</param>
			</result>
		</action>

		<!-- 팀 가입신청 -->
		<action name="joinTeam" class="team.teamAction" method="joinTeam">
			<result type="redirect-action">
				<param name="actionName">TeamList</param>
			</result>
		</action>

		<!-- 팀 상세보기 액션. -->
		<action name="TeamView" class="team.teamAction" method="view">
			<result type="tiles">TeamView</result>
		</action>
		<action name="TeamView2" class="team.teamAction" method="view">
			<result>/team/teamView.jsp</result>
		</action>

		<!-- 파일 다운로드 액션. -->
		<action name="fileDownloadAction" class="team.teamAction" method="download">
			<result name="success" type="stream">
				<param name="contentType">binary/octet-stream</param>
				<param name="inputName">inputStream</param>
				<param name="contentDisposition">${contentDisposition}</param>
				<param name="contentLength">${contentLength}</param>
				<param name="bufferSize">4096</param>
			</result>
		</action>

		<!-- 팀 수정 액션. -->
		<action name="TeamModifyForm" class="team.teamAction" method="myTeam">
			<result type="chain">TeamCreateForm</result>
		</action>

		<action name="TeamModify" class="team.teamAction" method="modify">
			<result type="chain">MyTeam</result>
		</action>

		<!-- 팀 가입 승인 -->
		<action name="teamJoinAgree" class="team.teamAction" method="agree">
			<result type="redirect-action">
				<param name="actionName">MyTeam</param>
			</result>
		</action>
		<!-- 팀 가입거절/탈퇴 액션 -->
		<action name="withdrawTeam" class="team.teamAction" method="withdraw">
			<result type="redirect-action">
				<param name="actionName">MyTeam</param>
			</result>
		</action>

		<!-- 팀 회원등급 변경 -->
		<action name="changeTeamAdmin" class="team.teamAction" method="changeAdmin">
			<result type="redirect-action">
				<param name="actionName">MyTeam</param>
			</result>
		</action>
		
		<!-- 팀 삭제 -->
		<action name="DeleteTeam" class="team.teamAction" method="delete">
			<result type="redirect-action">
				<param name="actionName">MyTeam</param>
			</result>
		</action>
	</package>
</struts>
