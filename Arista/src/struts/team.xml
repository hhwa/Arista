<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">
  
	<struts>
	
		<package name="team" extends="struts-default,tiles-default">
	
			<!-- 글로벌 예외 처리 화면 설정 -->
			<!-- 
			<global-results>
				<result name="error">/board/pageError.jsp</result>
			</global-results>
			<global-exception-mappings>
				<exception-mapping result="error" exception="java.lang.Exception"/>
			</global-exception-mappings>
	 		-->
	 		<!-- 마이 팀 목록 액션 -->
	 		<action name="MyTeam" class="team.teamAction" method="myTeam">
	 			<!-- <result type="tiles">MyTeam</result> -->
	 			<result type="tiles">myTeamView</result>
	 			<result name="noTeam" type="tiles">noTeam</result>
	 			<result name="login" type="tiles">loginForm</result>
	 		</action>
	 		
	 		<!-- 팀 목록 액션 -->
	 		<action name="TeamList" class="team.teamAction" >
	 			<result type="tiles">TeamList</result>
	 		</action>
	 		
	 		<!-- 팀 생성 액션 -->
	 		<action name="TeamCreateForm" class="team.teamAction" method="form">
	 			<result type="tiles">TeamCreate</result>
	 		</action>
	 	
	 		<action name="TeamCreate" class="team.teamAction" method="create">
	 			<result type="redirect-action">
	 				<param name="actionName">TeamList</param>
	 			</result>
	 		</action>
	 	
	 		<!-- 팀 상세보기 액션. -->
			<action name="TeamView" class="team.teamAction" method="view">
				<result type="tiles">TeamView</result>
			</action>
		
			<!-- 파일 다운로드 액션. -->
			<action name="fileDownloadAction" class="team.teamAction" method="download">
    			<result name="success" type="stream">
             	   	<param name="contentType">binary/octet-stream</param>
             	   	<param name="inputName">inputStream</param>
             	   	<param name="contentDisposition">${contentDisposition}</param>
             	   	<param name="contentLength">${contentLength}</param> 
              	  	<param name="bufferSize">4096</param>
        	 	</result>
			</action>
	 	
	 		<!-- 게시판 수정 액션. -->
			<action name="TeamModifyForm" class="team.teamAction" method="view">
				<result type="chain">TeamCreateForm</result>
			</action>
		
			<action name="TeamModify" class="team.teamAction" method="modify">
				<result type="chain">TeamView</result>
			</action>
			
			<!-- 비밀번호 체크 액션. -->
			<action name="checkForm" class="team.teamAction" method="checkForm">
				<result>/team/checkPassword.jsp</result>
			</action>
		
			<action name="checkAction" class="team.teamAction" method="checkAction">
				<result name="error">/team/checkError.jsp</result>
				<result>/team/checkSuccess.jsp</result>
			</action>
			
			<!-- 팀 삭제 -->
			<action name="TeamDelete" class="team.teamAction" method="delete">
	 			<result type="tiles">TeamList</result>
	 		</action>
	 	</package>
	</struts>
