<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
    "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
    "http://struts.apache.org/dtds/struts-2.0.dtd">
	
	<struts>
		<!-- 용량제한 100MB로 설정 -->
		<constant name="struts.multipart.maxSize" value="104857600"/>
	
		<!-- 회원가입  -->	
		<package name="member" extends="struts-default,tiles-default">
	
			<interceptors>
				<interceptor name="LoginCheckInter" class="mem.LoginCheckInterceptor"/>
				
				<interceptor-stack name="stack-with-login">
  				<interceptor-ref name="defaultStack"/>
  				<interceptor-ref name="LoginCheckInter"/>
	 			</interceptor-stack>
			</interceptors>
	
			<global-results>
	 			<result name="gologin" type="tiles">loginForm</result>
	 		</global-results>
	
			<action name="MemberJoinAction" class="mem.MemberJoinAction">
			<result type="chain">main</result>
			</action>
	
			<action name="memberIdCheck" class="mem.MemberJoinAction" method="idcheck">
				<result>/join/idCheck.jsp</result>	
			</action>
	
			<action name="memberNickCheck" class="mem.MemberJoinAction" method="nickcheck">
				<result>/join/nickCheck.jsp</result>	
			</action>
	
			<action name="memberEmailCheck" class="mem.MemberJoinAction" method="emailcheck">
				<result>/join/emailCheck.jsp</result>	
			</action>
	
			<action name="joinForm" class="mem.MemberJoinAction" method="joinform">
				<result type="tiles">JoinForm</result>
			</action>
			
			<!-- 회원정보 수정 -->
			<action name="modiftymemberForm" class="mem.MemberJoinAction" method="modifyMemForm">
				<result type="tiles">memberModifyForm</result>
			</action>
		
			<action name="modiftymemberPro" class="mem.MemberJoinAction" method="modifyMemPro">
				<result type="chain">main</result>
			</action>
					
			<!-- 회원탈퇴 -->
			<action name="deletememberPW" class="mem.MemberJoinAction" method="deleteMemPw">
				<result>/join/mDeleteCheckPW.jsp</result>
			</action>
			
			<action name="deletemember" class="mem.MemberJoinAction" method="deleteMem">
				<result>/join/deleteMemberResult.jsp</result>
			</action>
			
			<action name="redirectPW">
				<result type="chain">deletememberPW</result>
			</action>

			<!-- 로그인&로그아웃  -->	
			<action name="loginForm" class="mem.loginAction" method="loginForm">
				<result type="tiles">loginForm</result>
			</action>

			<action name="loginPro" class="mem.loginAction">
				<result name="success" type="tiles">loginResult</result>
			</action>
	
			<action name="logout" class="mem.loginAction" method="logout">
				<result type="chain">main</result>
			</action>



			<!-- 아이디 찾기 -->	
			<action name="findIDForm" class="mem.loginAction" method="findidform">
				<result type="tiles">findIDForm</result>
				
			</action>

			<action name="findIDPro" class="mem.loginAction" method="findId">
				<result>/login/findIDresult.jsp</result>
			</action>	

			<!-- 비밀번호 찾기 -->	
			<action name="findPWForm" class="mem.loginAction" method="findpwform">
				<result type="tiles">findPWForm</result>
			</action>

			<action name="findPWPro" class="mem.loginAction" method="findPw">
				<result>/login/findPWresult.jsp</result>
			</action>
			
			<!-- 회원관리 -->	
			<action name="adminMemList" class="admin.memberAction" method="memberList">
				<interceptor-ref name="stack-with-login"/>
				<result type="tiles">MemList</result>
			</action>
	
			<!-- 회원관리 - 상세 -->
			<action name="adminMemView" class="admin.memberAction" method="memberView">
				<interceptor-ref name="stack-with-login"/>
				<result type="tiles">MemView</result>
			</action>
			
			<!-- 회원관리 - 권한수정 -->
			<action name="adminRight" class="admin.memberAction" method="adminRightModi">
				<interceptor-ref name="stack-with-login"/>
				<result type="chain">adminMemView</result>
			</action>
	
		</package>
	</struts>