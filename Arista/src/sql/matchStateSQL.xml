<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE sqlMap PUBLIC '-//ibatis.apache.org//DTD Sql Map 2.0//EN' 'http://ibatis.apache.org/dtd/sql-map-2.dtd'>
<sqlMap namespace="matchStateSQL">

	<typeAlias alias="matchState" type="matchState.matchStateVO"/>
	
		<!-- 리절트 맵 정의 -->
		<resultMap id="matchStateRes" class="matchState">
			<result property="match_no" column="match_no"/>
			<result property="game_no" column="game_no"/>
			<result property="play_type" column="play_type"/>
			<result property="team_id" column="team_id"/>
			<result property="team2_id" column="team2_id"/>
			<result property="mem_id" column="mem_id"/>
			<result property="game_day" column="game_day"/>
			<result property="game_type" column="game_type"/>
			<result property="stadium" column="stadium"/>
			<result property="fee" column="fee"/>
			<result property="game_area" column="game_area"/>
			<result property="uniform_color" column="uniform_color"/>
			<result property="content" column="content"/>
		</resultMap>
		
		<!-- 공통으로 사용할 select 절 정의 -->
		<sql id="select-all">
			select * from matchState
		</sql>
		
		<!-- 공통으로 사용할 where-no절 정의 -->
		<sql id="where-no">
			where match_no = #match_no#
		</sql>
		
		<!-- select 쿼리문 정의 -->
		
		<!-- 매치목록 -->
		<select id="matchList" resultMap="matchStateRes">
			<include refid="select-all"/>
			order by match_no desc
		</select>
		
		<!-- 매치검색 -->
		<select id="matchSearch" resultMap="matchStateRes" parameterClass="java.util.HashMap">
			<include refid="select-all"/>
			where $param1$ like #param2# order by match_no desc
		</select>
		
		<!-- 매치상세보기 -->
		<select id="matchView" resultMap="matchStateRes" parameterClass="int">
			<include refid="select-all"/>
			<include refid="where-no"/>
		</select>
		
		<!-- insert 쿼리문 정의 -->
		
		<!-- 매치 정보입력 -->
		<insert id="insertMatch" parameterClass="matchState">
			insert into matchState (match_no,game_no,play_type,team_id,mem_id,game_day,game_type,stadium,fee,game_area,uniform_color,content) values (matchstate_no_seq.NEXTVAL,#game_no#,#play_type#,#team_id#,#mem_id#,#game_day#,#game_type#,#stadium#,#fee#,#game_area#,#uniform_color#,#content#)
		</insert>
		
		<!-- update 쿼리문 정의 -->
		
		<!-- 매치 상대팀 설정 -->
		<update id="MatchUp" parameterClass="matchState">
			update matchState set team2_id=#team2_id#
			<include refid="where-no"/>
		</update>
		
		<!-- 매치정보 수정 -->
		<update id="updateMatch" parameterClass="matchState">
			update matchState set game_day=#game_day#,game_type=#game_type#,stadium=#stadium#,fee=#fee#,game_area=#game_area#,uniform_color=#uniform_color,content=#content#
			<include refid="where-no"/>
		</update>
		
		<!-- delete 쿼리문 정의 -->
		
		<!-- 매치삭제 -->
		<delete id="deleteMatch" parameterClass="matchState">
			delete from matchState
			<include refid="where-no"/>
		</delete>
</sqlMap>